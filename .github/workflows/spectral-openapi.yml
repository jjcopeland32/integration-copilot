name: openapi-lint
on:
  pull_request:
    paths:
      - '**/*.yaml'
      - '**/*.yml'
      - '**/*.json'
jobs:
  spectral:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v5
      - uses: stoplightio/spectral-action@v0.8.13
        with:
          file_glob: 'apps/**/openapi*.{yaml,yml,json},packages/**/openapi*.{yaml,yml,json}'
          spectral_ruleset: 'spectral.yml'
